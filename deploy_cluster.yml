---
- import_playbook: playbooks/generate_ssh_key_pair.yml
  when: GENERATE_SSH_KEYS | default(True) == True

- import_playbook: playbooks/create_cluster.yml
  when: use_sno | default(False) == False and use_rest_api | default(False) == False 

- import_playbook: playbooks/create_sno_cluster.yml
  when: use_sno | default(False) == True and use_rest_api | default(False) == False 

- import_playbook: playbooks/create_cluster_rest_api.yml
  when: use_sno | default(False) == False and use_rest_api | default(False) == True 

- import_playbook: playbooks/create_sno_cluster_rest_api.yml 
  when: use_sno | default(False) == True and use_rest_api | default(False) == True 

- import_playbook: playbooks/generate_discovery_iso.yml

- import_playbook: playbooks/boot_iso.yml
  vars:
    boot_iso_hosts: masters,workers
  when: use_sno | default(False) == False

- import_playbook: playbooks/boot_iso.yml
  vars:
    boot_iso_hosts: sno_master,workers
  when: use_sno | default(False) == True

- import_playbook: playbooks/install_cluster.yml

- import_playbook: playbooks/monitor_hosts.yml

- import_playbook: playbooks/monitor_cluster.yml
